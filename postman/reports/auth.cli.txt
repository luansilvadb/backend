newman

PDV Multitenant API - Auth

â–¡ Auth
â”” Login
  POST http://localhost:3000/api/auth/login [429 Too Many Requests, 1.14kB, 20ms]
  âˆš  Resposta JSON vÃ¡lida
  1. Status 200 OK
  2. Retorna token JWT
  3. Retorna refreshToken

â”” Refresh Token
  POST http://localhost:3000/api/auth/refresh [429 Too Many Requests, 1.14kB, 3ms]
  âˆš  Resposta JSON vÃ¡lida
  4. Status 200 OK
  5. Retorna novo token JWT
  6. Retorna novo refreshToken

â”” Registrar UsuÃ¡rio
  POST http://localhost:3000/api/auth/register [429 Too Many Requests, 1.14kB, 2ms]
  âˆš  Resposta JSON vÃ¡lida
  7. Status 201 Created
  8. Retorna ID criado
  9. Retorna email cadastrado

â”” Registrar Tenant
  POST http://localhost:3000/api/auth/register-tenant [429 Too Many Requests, 1.14kB, 2ms]
  âˆš  Resposta JSON vÃ¡lida
 10. Status 201 Created
 11. Retorna ID do tenant criado

â”” Perfil do UsuÃ¡rio
  GET http://localhost:3000/api/auth/profile [429 Too Many Requests, 1.14kB, 2ms]
  âˆš  Resposta JSON vÃ¡lida
 12. Status 200 OK
 13. Retorna dados do usuÃ¡rio

â”” Alterar Senha
  POST http://localhost:3000/api/auth/change-password [429 Too Many Requests, 1.14kB, 2ms]
  âˆš  Resposta JSON vÃ¡lida
 14. Status 200 OK
 15. Mensagem de sucesso

â”” Logout
  POST http://localhost:3000/api/auth/logout [429 Too Many Requests, 1.14kB, 2ms]
  âˆš  Resposta JSON vÃ¡lida
 16. Status 200 OK
 17. Mensagem de logout

â”” Logout de Todas as SessÃµes
  POST http://localhost:3000/api/auth/logout-all [429 Too Many Requests, 1.14kB, 2ms]
  âˆš  Resposta JSON vÃ¡lida
 18. Status 200 OK
 19. Mensagem de logout

â”” Listar SessÃµes
  GET http://localhost:3000/api/auth/sessions [429 Too Many Requests, 1.14kB, 3ms]
  âˆš  Resposta JSON vÃ¡lida
 20. Status 200 OK
 21. Retorna lista de sessÃµes

â”” Revogar SessÃ£o
  DELETE http://localhost:3000/api/auth/sessions/{{sessionId}} [429 Too Many Requests, 1.14kB, 1ms]
  âˆš  Resposta JSON vÃ¡lida
 22. Status 204 No Content

â”” Criar UsuÃ¡rio (Admin)
  POST http://localhost:3000/api/auth/users [429 Too Many Requests, 1.14kB, 1ms]
  âˆš  Resposta JSON vÃ¡lida
 23. Status 201 Created
 24. Retorna ID criado
 25. Retorna email cadastrado

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         â”‚        executed â”‚          failed â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚              iterations â”‚               1 â”‚               0 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                requests â”‚              11 â”‚               0 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚            test-scripts â”‚              11 â”‚               0 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚      prerequest-scripts â”‚               0 â”‚               0 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚              assertions â”‚              36 â”‚              25 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ total run duration: 232ms                                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ total data received: 891B (approx)                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ average response time: 3ms [min: 1ms, max: 20ms, s.d.: 5ms] â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

[31m   # [39m[31m failure        [39m[31m detail                                                            [39m
[90m     [39m[90m                [39m[90m                                                                   [39m
 01.  AssertionError  Status 200 OK                                                     
                      expected response to have status code 200 but got 429             
                      at assertion:1 in test-script                                     
                      inside "Auth / Login"                                             
[90m     [39m[90m                [39m[90m                                                                   [39m
 02.  AssertionError  Retorna token JWT                                                 
                      expected { success: false, â€¦(1) } to have property 'token'        
                      at assertion:2 in test-script                                     
                      inside "Auth / Login"                                             
[90m     [39m[90m                [39m[90m                                                                   [39m
 03.  AssertionError  Retorna refreshToken                                              
                      expected { success: false, â€¦(1) } to have property 'refreshToken' 
                      at assertion:3 in test-script                                     
                      inside "Auth / Login"                                             
[90m     [39m[90m                [39m[90m                                                                   [39m
 04.  AssertionError  Status 200 OK                                                     
                      expected response to have status code 200 but got 429             
                      at assertion:1 in test-script                                     
                      inside "Auth / Refresh Token"                                     
[90m     [39m[90m                [39m[90m                                                                   [39m
 05.  AssertionError  Retorna novo token JWT                                            
                      expected { success: false, â€¦(1) } to have property 'token'        
                      at assertion:2 in test-script                                     
                      inside "Auth / Refresh Token"                                     
[90m     [39m[90m                [39m[90m                                                                   [39m
 06.  AssertionError  Retorna novo refreshToken                                         
                      expected { success: false, â€¦(1) } to have property 'refreshToken' 
                      at assertion:3 in test-script                                     
                      inside "Auth / Refresh Token"                                     
[90m     [39m[90m                [39m[90m                                                                   [39m
 07.  AssertionError  Status 201 Created                                                
                      expected response to have status code 201 but got 429             
                      at assertion:1 in test-script                                     
                      inside "Auth / Registrar UsuÃ¡rio"                                 
[90m     [39m[90m                [39m[90m                                                                   [39m
 08.  AssertionError  Retorna ID criado                                                 
                      expected { success: false, â€¦(1) } to have property 'id'           
                      at assertion:2 in test-script                                     
                      inside "Auth / Registrar UsuÃ¡rio"                                 
[90m     [39m[90m                [39m[90m                                                                   [39m
 09.  AssertionError  Retorna email cadastrado                                          
                      expected { success: false, â€¦(1) } to have property 'email'        
                      at assertion:3 in test-script                                     
                      inside "Auth / Registrar UsuÃ¡rio"                                 
[90m     [39m[90m                [39m[90m                                                                   [39m
 10.  AssertionError  Status 201 Created                                                
                      expected response to have status code 201 but got 429             
                      at assertion:1 in test-script                                     
                      inside "Auth / Registrar Tenant"                                  
[90m     [39m[90m                [39m[90m                                                                   [39m
 11.  AssertionError  Retorna ID do tenant criado                                       
                      expected { success: false, â€¦(1) } to have property 'tenantId'     
                      at assertion:2 in test-script                                     
                      inside "Auth / Registrar Tenant"                                  
[90m     [39m[90m                [39m[90m                                                                   [39m
 12.  AssertionError  Status 200 OK                                                     
                      expected response to have status code 200 but got 429             
                      at assertion:1 in test-script                                     
                      inside "Auth / Perfil do UsuÃ¡rio"                                 
[90m     [39m[90m                [39m[90m                                                                   [39m
 13.  AssertionError  Retorna dados do usuÃ¡rio                                          
                      expected { success: false, â€¦(1) } to have property 'email'        
                      at assertion:2 in test-script                                     
                      inside "Auth / Perfil do UsuÃ¡rio"                                 
[90m     [39m[90m                [39m[90m                                                                   [39m
 14.  AssertionError  Status 200 OK                                                     
                      expected response to have status code 200 but got 429             
                      at assertion:1 in test-script                                     
                      inside "Auth / Alterar Senha"                                     
[90m     [39m[90m                [39m[90m                                                                   [39m
 15.  AssertionError  Mensagem de sucesso                                               
                      expected { success: false, â€¦(1) } to have property 'message'      
                      at assertion:2 in test-script                                     
                      inside "Auth / Alterar Senha"                                     
[90m     [39m[90m                [39m[90m                                                                   [39m
 16.  AssertionError  Status 200 OK                                                     
                      expected response to have status code 200 but got 429             
                      at assertion:1 in test-script                                     
                      inside "Auth / Logout"                                            
[90m     [39m[90m                [39m[90m                                                                   [39m
 17.  AssertionError  Mensagem de logout                                                
                      expected { success: false, â€¦(1) } to have property 'message'      
                      at assertion:2 in test-script                                     
                      inside "Auth / Logout"                                            
[90m     [39m[90m                [39m[90m                                                                   [39m
 18.  AssertionError  Status 200 OK                                                     
                      expected response to have status code 200 but got 429             
                      at assertion:1 in test-script                                     
                      inside "Auth / Logout de Todas as SessÃµes"                        
[90m     [39m[90m                [39m[90m                                                                   [39m
 19.  AssertionError  Mensagem de logout                                                
                      expected { success: false, â€¦(1) } to have property 'message'      
                      at assertion:2 in test-script                                     
                      inside "Auth / Logout de Todas as SessÃµes"                        
[90m     [39m[90m                [39m[90m                                                                   [39m
 20.  AssertionError  Status 200 OK                                                     
                      expected response to have status code 200 but got 429             
                      at assertion:1 in test-script                                     
                      inside "Auth / Listar SessÃµes"                                    
[90m     [39m[90m                [39m[90m                                                                   [39m
 21.  AssertionError  Retorna lista de sessÃµes                                          
                      expected { success: false, â€¦(1) } to be an array                  
                      at assertion:2 in test-script                                     
                      inside "Auth / Listar SessÃµes"                                    
[90m     [39m[90m                [39m[90m                                                                   [39m
 22.  AssertionError  Status 204 No Content                                             
                      expected response to have status code 204 but got 429             
                      at assertion:1 in test-script                                     
                      inside "Auth / Revogar SessÃ£o"                                    
[90m     [39m[90m                [39m[90m                                                                   [39m
 23.  AssertionError  Status 201 Created                                                
                      expected response to have status code 201 but got 429             
                      at assertion:1 in test-script                                     
                      inside "Auth / Criar UsuÃ¡rio (Admin)"                             
[90m     [39m[90m                [39m[90m                                                                   [39m
 24.  AssertionError  Retorna ID criado                                                 
                      expected { success: false, â€¦(1) } to have property 'id'           
                      at assertion:2 in test-script                                     
                      inside "Auth / Criar UsuÃ¡rio (Admin)"                             
[90m     [39m[90m                [39m[90m                                                                   [39m
 25.  AssertionError  Retorna email cadastrado                                          
                      expected { success: false, â€¦(1) } to have property 'email'        
                      at assertion:3 in test-script                                     
                      inside "Auth / Criar UsuÃ¡rio (Admin)"                             
